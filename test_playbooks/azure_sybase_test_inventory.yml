---
# Azure Sybase Test Inventory
# For testing sybase_inspec role against Azure container infrastructure

all:
  vars:
    # Global settings
    base_results_dir: /home/azureuser/compliance_scans
    enable_debug: true

    # Delegate host - the Azure runner VM runs InSpec
    inspec_delegate_host: "runner_vm"

    # Sybase environment on runner VM
    # Note: Sybase client (isql) must be installed on runner
    sybase_environment_base:
      SYBASE: "/opt/sap"
      SYBASE_OCS: "OCS-16_0"
      PATH: "/opt/sap/OCS-16_0/bin:/usr/local/bin:/usr/bin:/bin"
      LD_LIBRARY_PATH: "/opt/sap/OCS-16_0/lib"

  children:
    # Delegate hosts - where InSpec runs
    delegate_hosts:
      hosts:
        runner_vm:
          ansible_host: 20.106.154.159
          ansible_user: azureuser
          ansible_ssh_private_key_file: "~/.ssh/inspec_azure"
          ansible_ssh_common_args: "-o StrictHostKeyChecking=accept-new"
          ansible_python_interpreter: /usr/bin/python3.9
          ansible_connection: ssh

    # Sybase databases to scan
    sybase_databases:
      hosts:
        sybase_azure_test:
          # Connection parameters
          sybase_server: 10.0.2.6
          sybase_port: 5000
          sybase_database: master
          sybase_service: SYBASE
          sybase_version: "16"
          sybase_username: sa
          sybase_password: "SybasePass123!"

          # SSH settings - disable for direct connection testing
          sybase_use_ssh: false

          # Skip pre-flight (tsql not installed on runner)
          preflight_enabled: false

          # Delegate execution
          ansible_connection: local
